<template>
  <GlobalPageHeader>
    <svg width="1057" height="111" viewBox="0 0 1057 111" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M16.8006 94.9581C5.93354 84.285 0.5 71.1539 0.5 55.5C0.5 39.9108 5.93354 26.7797 16.8006 16.042C27.6677 5.36888 41.1222 0 57.1641 0C73.206 0 86.6605 5.36888 97.5276 16.042C108.395 26.715 113.828 39.8462 113.828 55.5C113.828 71.0892 108.395 84.2203 97.5276 94.9581C86.6605 105.631 73.206 111 57.1641 111C41.1222 110.935 27.6677 105.631 16.8006 94.9581ZM33.0366 30.4021C26.5034 37.1941 23.2691 45.5385 23.2691 55.5C23.2691 65.4615 26.5034 73.8059 33.0366 80.5979C39.5698 87.3899 47.5907 90.7535 57.1641 90.7535C66.8022 90.7535 74.8878 87.3899 81.3563 80.5979C87.8248 73.8059 91.0591 65.4615 91.0591 55.5C91.0591 45.5385 87.8248 37.1941 81.3563 30.4021C74.8878 23.6101 66.8022 20.2465 57.1641 20.2465C47.5907 20.2465 39.5698 23.6101 33.0366 30.4021Z" fill="#0000FF"/>
      <path d="M149.415 109.326H127.422V1.56055H173.025C184.798 1.56055 194.371 4.92418 201.681 11.7161C208.99 18.5081 212.613 27.1113 212.613 37.5903C212.613 48.0693 208.99 56.6078 201.745 63.2057C194.501 69.8036 184.927 73.1672 173.025 73.1672H149.48V109.326H149.415ZM149.415 21.0955V53.5676H172.961C178.006 53.5676 182.017 52.0798 185.121 49.0396C188.226 45.9994 189.714 42.1183 189.714 37.3962C189.714 32.6742 188.162 28.7931 185.121 25.6882C182.017 22.5833 178.006 21.0955 172.961 21.0955H149.415Z" fill="#0000FF"/>
      <path d="M294.504 109.326H222.703V1.56055H294.504V21.0955H244.761V45.7406H292.951V65.1462H244.761V89.7914H294.504V109.326Z" fill="#0000FF"/>
      <path d="M383.638 104.604V1.56055H405.631V109.391H362.809L331.308 6.28258V109.326H309.315V1.56055H352.007L383.638 104.604Z" fill="#0000FF"/>
      <path d="M514.389 27.7433C514.389 37.5002 510.933 45.7834 504.022 52.5929C497.111 59.4024 488.37 63.2137 477.8 64.0268L500.363 109H487.1L464.689 64.1793H443.651L434.199 109H422.308L445.023 2.28393H484.965C493.808 2.28393 500.922 4.67233 506.309 9.44915C511.695 14.226 514.389 20.324 514.389 27.7433ZM445.938 53.0503H475.513C483.238 53.0503 489.641 50.6619 494.722 45.8851C499.804 41.0066 502.345 35.2643 502.345 28.658C502.345 24.0845 500.719 20.3748 497.466 17.5291C494.214 14.5817 489.742 13.108 484.051 13.108H454.628L445.938 53.0503ZM580.911 109H515.357L538.072 2.28393H603.626L601.34 13.108H547.677L539.597 50.3062H591.888L589.601 60.9778H537.31L529.535 98.1759H583.198L580.911 109ZM639.682 95.5843L697.461 2.28393H710.42L643.798 109H630.993L609.802 2.28393H621.845L639.682 95.5843ZM711.708 109H699.817L722.533 2.28393H734.424L711.708 109ZM796.785 109H731.231L753.946 2.28393H819.5L817.213 13.108H763.55L755.47 50.3062H807.761L805.474 60.9778H753.184L745.409 98.1759H799.072L796.785 109ZM915.955 94.5171L962.148 2.28393H974.954L919.767 109H906.503L898.728 18.2913L852.536 109H839.272L829.515 2.28393H841.407L848.724 94.5171L895.222 2.28393H908.333L915.955 94.5171ZM969.238 81.5587L980.977 79.1195C982.4 92.9418 990.836 99.8529 1006.28 99.8529C1014.52 99.8529 1021.28 97.9219 1026.56 94.0598C1031.85 90.1976 1034.49 85.4208 1034.49 79.7293C1034.49 75.1558 1032.66 71.3953 1029 68.4479C1025.44 65.3989 1021.07 63.0105 1015.89 61.2827C1010.81 59.4533 1005.67 57.5222 1000.49 55.4895C995.308 53.4568 990.887 50.5094 987.228 46.6473C983.67 42.6836 981.892 37.7543 981.892 31.8595C981.892 23.0173 985.652 15.6488 993.173 9.75406C1000.69 3.75763 1009.94 0.759413 1020.92 0.759413C1030.98 0.759413 1038.91 3.40191 1044.7 8.68689C1050.5 13.8702 1054.05 20.883 1055.37 29.7252L1043.63 32.1644C1042.72 25.4566 1040.23 20.324 1036.16 16.7668C1032.2 13.108 1026.87 11.2786 1020.16 11.2786C1012.74 11.2786 1006.59 13.108 1001.71 16.7668C996.832 20.4257 994.393 24.8976 994.393 30.1826C994.393 34.5528 996.171 38.1609 999.729 41.0066C1003.39 43.8524 1007.76 46.19 1012.84 48.0194C1018.02 49.7472 1023.21 51.6274 1028.39 53.6601C1033.57 55.6928 1037.94 58.7926 1041.5 62.9596C1045.16 67.025 1046.99 72.1067 1046.99 78.2048C1046.99 87.6568 1043.02 95.4318 1035.1 101.53C1027.17 107.526 1017.36 110.525 1005.67 110.525C995.003 110.525 986.516 107.984 980.215 102.902C974.015 97.7186 970.356 90.6042 969.238 81.5587Z" fill="#0000FF"/>
    </svg>
  </GlobalPageHeader>

  <div class="reviews page-paddings">
    <div class="reviews__container container">
      <GlobalBlockHeader :title="post.data.title" classes="reviews" />
      <div class="reviews__grid" v-if="columns.value.col_1.length">
        <div class="reviews__col" v-for="(reviews, index) in columns.value" :key="index">
          <template v-if="reviews.length">
            <ReviewsCard
                v-for="review in reviews"
                :key="review.post_id"
                :id="review.post_id"
                :name="review.post_title"
                :title="review.title"
                :post="review.post"
                :logo="review.logo"
            />
          </template>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
const { result: post, error } = await useApi( '/template/reviews' );

const columns = computed(() => {
  return getGridColumns( post.value.data.list )
});

</script>

<style scoped lang="scss">
.reviews {
  padding-top: 0;
}

.reviews__block-header {
  max-width: 84.7rem;
  margin-bottom: 10.7rem;
}

.reviews__grid {
  display: grid;
  grid-template-columns: repeat( 2, 1fr );
  gap: 2rem;
}

</style>